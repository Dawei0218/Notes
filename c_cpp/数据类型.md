# 数据类型

### 基本数据类型

```c
// 原则上仅需1位存储空间，0表示false 1表示true
// c可以用stdbool库，与c++语法相同
_Bool a = 1;
bool a = true; // c++

// 可用于限定char类型和int类型
// int、short、long、long long类型默认带符号的，char类型取决于编译器
// c/c++ unsigned int可以缩写为unsigned
// 算术运算中既有无符号类型又有int类型时，int类型会转成无符号
unsigned int a;

// c++ auto类型，编译器自动推导类型
// 因为是编译器推导，所以必须有初始值
auto item = val1 + val2;

// 初始化
// 当列表初始化用于内置类型时，初始值存在丢失风险时，编译器会报错
int a = 0;
int a = {0}; // 列表初始化
int a{0}; // 列表初始化
int a(0);

// 默认初始化
// 定义变量时没有指定初值，则变量被默认初始化，它的值由定义的位置决定
// 每个类各自决定初始化方式，没有初始值的成员将被默认初始化
int a;

// 临时对象，比如S类，return S()就是临时对象
typename();
```

------

### 指针和引用

```cpp
// 引用只是一个别名，引用必须初始化
// 引用编译器转换 const int *b = &a;
int a = 1;
int &b = a;

// 指针保存另一个对象的地址
int a = 1;
int *p = &a;

// int tmp = 10;
// const int *b = &tmp;
int &b = 10;

// 空指针，nullptr是c++语法
int *p = NULL; // NULL在<stdlib.h>
int *p = nullptr;

// 未初始化的指针（野指针），可能发生未知的错误
int *p;

// void类型指针可以存放任意对象的地址
void *ptr;

// 指向指针的引用
int *p;
int *&r = p;

const int *p; // 底层const，指针所指的对象是常量
int * const p; // 顶层const，指针本身是常量
const int &r = a; // 用于声明引用的const都是底层const
```

------

### 字符串

```c++
// c++ string标准库
#include <string>
using std::string;

// 拷贝初始化，编译器把等号右边的初始值拷贝到新创建的对象

string s1; // 默认初始化，空字符串
string s2(s1); // 直接初始化
string s2 = s1; // 拷贝初始化
string s3 = "Hello World"; // 拷贝初始化
string s4("Hello World"); // 直接初始化
string s4(10, 'c'); // 直接初始化

s1.empty();
s1.size(); // 返回string::size_type类型
```

------

### 类型转换

```c++
// cast-name<type>(expression);
// cast-name:
//		1. static_cast
//  	2. dynamic_cast
//		3. const_cast 可以改变底层const
//		4. reinterpret_cast

double slope = static_cast<double>(i);

// const_cast如果对象本身不是const（比如本身非const，形参为const），转换之后可以写，否则产生未定义的后果。
```



