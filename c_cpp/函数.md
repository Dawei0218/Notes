# 函数

### 内联函数

```c
inline static void eatline() {}
```

------

### 函数指针

```c
int sum(int a, int b)
{
    return a + b;
}

int main(void)
{
    int (*p)(int, int) = sum;
    (*p)(1, 2);
    
    return 0;
}

// c++
#include <functional>
function<int(int, int)> p = sum;
```

------

### 可变形参

```cpp
// c
#include <stdarg.h>

int demo(int a, ...) {
    va_list valist;
    
    // 初始化，第二个参数是函数的前一个参数
    va_start(valist, a);
    
    /* 访问所有赋给 valist 的参数 */
    for (i = 0; i < num; i++) {
       sum += va_arg(valist, int);
    }
    /* 清理为 valist 保留的内存 */
    va_end(valist);
}

// c++
#include <initializer_list>
using std::initializer_list;

void demo(initializer_list<int> ls) {
  for (auto begin = ls.begin(); begin != ls.end(); ++begin)
    cout << *begin << endl;
}

demo({1, 2, 3, 4, 5});

```

------

### 函数重载

```cpp
// 顶层const不能与另一个没有const的形参区分开
// 不允许两个函数除了返回值其他都相同
void test(int a);
void test(const int a); // 重复声明
```
