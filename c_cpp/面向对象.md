# 面向对象

### struct与class

```cpp
// struct与class都能实现面向对象
struct s {
  int a;
  int b;
  int func1();
}

class s {
  public:
  	int a;
  	int b;
  	int func1();
  private:
  	int c;
}

int s::func1()
{
  return 0;
}
```

------

### 构造函数

```cpp
// 编译器默认会有一个构造函数，如果定义了构造函数编译器不会生成默认的构造函数 = default 会生成
struct s {
    int a;
  	int b = 1;
    s() = default // 如果有初始化值就按照值初始化，否则默认初始化
    s(int v) : a(v) {} // 构造函数初始值列表，初始化的顺序按照成员对象的顺序进行的
};

class s {
  public:
  int a;
  s(int a) : a(a) {} // 初始化
  s(int num1, int num2);
}

s::s(int num1, int num2) 
{
  // 赋值，如果是const变量只能使用列表初始化
  a = num1;
}
```

------

### 友元

```cpp
// 允许其它类或者函数访问它的非公有成员
// 在函数前加friend

class t {
    
    friend void print_age(t t1);
    
    private:
    	string name;
    	int age;
}

// 一个外部函数
// 默认不能访问，加上friend就可以了
void print_age(t t1)
{
    cout << t1.age << endl;
}
```

------

### this

```cpp
class s {
  public:
  int a;
  int b;
  // 可以用this，也可以直接return a
  int getA() { return this->a; }
}

// 实际上调用getA() = getA(&s1)
s s1;
s1.getA();
```

------

### mutable

```cpp
class s {
  public:
  	void incr_a() const { ++a; } // 在const对象中也可以修改a对象
  private:
  	mutable int a;
}
```

------

### 类的静态成员

```cpp
// 类需要一些成员与类本身直接相关，而不是与类的各个对象保持关联
// 比如一个银行账户类需要一个数据成员表示当前利率，需要和类关联，但是并非与所有对象关联
class s {
  public:
  static int a;
}

// 必须在类外部初始化
int s::a = 10;

int main()
{
	cout << s::a << endl;
}
```



