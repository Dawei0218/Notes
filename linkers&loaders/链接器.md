# 链接器

### 链接器的历史

为什么单独介绍链接器？因为链接器的历史比编译器要早，在纸带编程的时候，就有链接。

在纸带编程的年代，如果有一条跳转指令人工确定了跳转位置，我们在这个跳转指令之后添加了几条指令，就需要重新修改跳转地址，这个过程也叫***重定位***。如果在多个纸带之间跨纸带跳转，就变得复杂和繁琐。

所以有了汇编语言，使用各种符号和标记来帮助记忆，用符号来标记位置。不管插入了多少条语句，汇编器每次都会重新计算符号地址。

------

### 链接

有了汇编之后代码变得更加庞大，需要按照功能划分不同的模块。把多个模块合并起来，各个模块之间的相互引用的部分处理好，使得各个模块之间能够正确的衔接，这个过程就是链接。

链接过程主要包括地址和空间分配、符号决议和重定位等步骤。基本的静态链接把目标文件和库一起链接形成最终的可执行文件。

比如main.c中使用另一个模块func.c的函数foo()，我们必须要知道foo的地址。在编译main.c模块的时候不知道foo的地址，main.c模块暂时把foo地址搁置，如果没有链接器就需要我们手工修正地址，使用链接器就无须知道地址，链接时候会根据foo符号自动去相应的模块查找foo地址，然后修正main.c模块的foo地址。

