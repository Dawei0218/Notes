# 编译和链接

### 预编译

```
1. 将所有#define删除，展开宏定义
2. 处理所有条件预编译指令，比如#if、#ifdef
3. 处理所有#include命令，将被包含的文件插入到预编译命令的位置
4. 删除所有注释//和/* */
5. 添加行号和文件名标识，方便编译器编译时产生调试用的行号以及编译错误的行号
6. 保留所有#pragma编译器指令，编译器会使用它们
```

主要处理#开始的预编译命令，比如#include和#define。

------

### 编译

把预处理完的文件进行一系列词法分析、语法分析、语义分析及优化后生成相应的汇编文件。

------

### 汇编

将汇编代码转变成机器可以执行的指令，汇编没有编译复杂，一条汇编对应一条机器指令，汇编之后生成目标文件。

------

### 链接

把目标文件和库一起链接成可执行文件