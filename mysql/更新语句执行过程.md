# 更新语句执行过程

### 执行过程

连接器、分析器、优化器以及执行器的流程还需要走一遍。

1. 如果数据页在内存里直接更新，否则从磁盘读入内存。
2. 调用引擎层写入新数据。
3. 引擎将这行数据更新到内存，同时记录到redo log里，此时redo log处于prepare状态，告知执行器完成，可以提交事务
4. 执行器生成binlog，并把binlog写入磁盘
5. 执行器调用引擎的提交事务接口，引擎吧刚刚写入redo log改成commit状态
