# 数据目录

> 基于MySQL 5.7.22

### 数据库在文件系统中的表示

create database在文件系统发生了以下操作

- 在数据目录下创建一个与数据库名同名的子目录（文件夹）
- 在该子目录下创建一个名为db.opt的文件，该文件包含了该数据库的一些属性（数据库字符集和比较规则）

------

### 表在文件系统中的表示

表信息分为两种

- 表结构定义。在子目录内，文件名为`表名.frm` 的二进制文件。

- 表中的数据

------

### InnoDB数据存储

为了更好的管理数据页，提出了一个 表空间(table space) 或者 文件空间( file space)的概念，对应文件系统上的一个或多个真实文件。

表空间有以下两种类型

- 系统表空间
  - 默认情况下InnoDB会在数据目录（不是数据库的子目录）下创建一个名为ibdata1，大小12M的文件，是自扩展的
  - MySQL5.5.7 - MySQL5.6.5，表中数据会存储到系统表
- 独立表空间
  - MySQL5.6.6，InnoDB不再默认把各个表的数据存储到系统表空间，而是一个表建立一个独立表空间
  - 会在数据库对应的子目录创建一个表是该独立表空间的文件`表名.idb`
