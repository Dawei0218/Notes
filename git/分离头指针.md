# 分离头指针

detached HEAD

```
git checkout wa129340(commit的hash)
```

处于分离头指针的状态，是没有分支的状态，可以提交不会影响别的分支，也可以丢弃掉。

如果我们在分离头指针的状态下开发，如果切换到别的分支，可能会被git当作垃圾清除掉，即使commit提交了也会丢弃。

commit之后可以通过创建分支保留。

------

### 使用场景

想做一些变更，只是尝试性的变更，如果效果不好可以丢弃掉。

```shell
$ git commit -am 'xxx' # 不需要add，直接生成commit
```

------

```shell
$ git checkout -b 新分支名 基于commit或者分支名
```

HEAD指向当前分支，当前分离头指针，或者最新的commit

----

### diff

```shell
$ git diff hash1 hash2
$ git diff HEAD HEAD^1 # 当前commit和父级commit对比，也可以不用1，直接HEAD^
$ git diff HEAD HEAD^1^1 # 当前commit和父级的父级对比
$ git diff HEAD HEAD~1 # 当前commit和父级comit对比
$ git diff HEAd HEAD~2 # 等同于HEAD^1^1
```

