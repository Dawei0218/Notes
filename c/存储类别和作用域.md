# 存储类别和作用域

### 外部变量(external)

```c
// file1
int a;
// file2 可以使用并且修改file1的值
extern int a; 
```

1. 函数或全局变量默认是external，在其他源文件使用extern声明时，引用的是同一个对象
2. 外部变量在程序允许时就存在内存中。

------

### 内部变量(internal)

1. 在代码内部声明的变量缺省类型是自动(auto)变量，存储在堆栈中。
2. 如果加上static就是静态变量。
3. 局部变量在函数调用时创建，在退出时销毁。

------

### static变量

```c
static int a = 10;
static int demo() {}
```

1. 默认声明具有external链接属性，static可以使它的链接属性变成internal（函数与变量都变成internal）。
2. static也可以声明内部变量，就会从自动变量变成static变量，只能在函数内部使用。
3. 代码块外部的变量缺省存储于静态内存中，如果加上static就是限制链接属性。


------