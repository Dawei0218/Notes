# 指针与数组

### 指针和数组的区别

```c
int a[];
int *p;
```

a是个标记，在编译器眼里就是一个地址的别名。

而p存储的地址，这个地址指向数组的首地址。

------

### 未初始化和非法指针

```c
// 创建一个指针变量a，并把12存储在a所指向的空间
int *a;
*a = 12;
```

1. 未进行初始化，指针会随机指向一个地址。
2. 如果是非法地址，赋值语句会报错，终止程序。
3. 如果是合法地址，位于那个位置的值会被修改。
4. 在对指针进行简介访问之前，必须小心，确保初始化。

------

### 字符和字符串

```c
void* //代替char*类型作为通用指针

// 'x' 是一个字节，x
// "x" X是两个字节 X和\0
// amessage就是字符串的第一个地址
// pmessage是pmessage存储的string这个字符串的第一个指针
char amessage[] = "string"; // 会自动加上\0
char *pmessage = "string"; // 会自动加上\0 两者等价，但是后者更直观的表示是个指针

char string[] = "123"" 234" = char string[] = "123 234";
```

字符串是是以\0结尾的零个或多个字符，字符串通常存储在字符数组中

------

### NUL和NULL

NUL指的是用于结束一个ASCII字符串

NULL表示空指针

------

### 指针数组和数组指针

指针数组就是存储指针的数组

数组指针是指向数组的指针

------

### 函数指针

```c
int (*function) (void *, void*)
```

------

### 二级指针删除单向链表

```c
void remove_if(node ** head, remove_fn rm)
{
    for (node** curr = head; *curr; ) {
        node * entry = *curr;
        if (rm(entry)) {
            *curr = entry->next;
            free(entry);
        }
        else
            curr = &entry->next;
    }
}
```

