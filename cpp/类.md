# 类

### 类的定义

```cpp
// 相同类的对象互为友元
class A
{
public:
  void demo();
  int a_;
  
  // 抑制隐式类型转换
  // 只能通过直接初始化
  // explicit只允许出现在类内的构造函数声明处
  explicit A(const A& a1)
  {
    a_ = 0;
  }
  
  // 类外定义时最好只在类的外部定义的地方说明inline
  // inline成员函数应该与相应的类定义在同一个头文件中
  int getA() { return a_; }
}

// 类外定义成员函数
void A::demo()
{
  // ...
}
```

------

### 常量成员函数

```cpp
// this默认是A *const
// 加上const后this变成了const A *const
// 常量对象只能调用常量成员函数，非常量对象可以调用常量成员函数
class A
{
public:
  // 常量成员函数也可以修改
	mutable int a = 1;
  void demo() const;
}
```

------

### 构造函数

```cpp
// 组合 构造先构造成员在构造自身，析构先析构自身在析构成员
// 继承 构造先构造父类在构造自身，析构先析构自身在析构父类

// 默认构造函数如果存在类内的初始化，用它来初始化，否则默认初始化
class S {
public:
  // 显式生成默认构造函数
  S() = default;
	
  // 构造函数初始值列表，初始化的顺序按照成员对象的顺序进行的
  // 常量对象，引用只能用初始值列表方式
	S(int v) : a(v) {} 
    
 	// delete是删除的函数，析构函数不能删除
  S(const S &s1) = delete; 
}
```

------

### 析构函数

```cpp
// 变量离开作用域时被销毁
// 当一个对象被销毁时，其成员被销毁
// 容器、数组被销毁，其元素被销毁
// delete
// 临时对象
class S {
public:
  ~S();
};
```